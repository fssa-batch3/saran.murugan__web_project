<!DOCTYPE html>

<head lan="eng">
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href="../Assets/css/log.css">

</head>

<body>


    <div class="main">

        <h1>Lets start to book your tickets!</h1>
    

        <div class="input">
            <h2>Sign up</h2>
            <form>
            <div class="email">
                <input required type="text" placeholder="Enter your name"  id="name" />
                <label>Name</label>
            </div>

            <div class="email">
                <input required type="text" inputmode="numeric" placeholder="Enter your phone number"  id="number" />
                <label>Number</label>
            </div>

            <div class="email">
                <input  type="email" placeholder="Enter your email" required="true" id="emailid" />
                <label>Email</label>
            </div>

            <div class="email">
                <input required type="password"    placeholder="Enter your password" id="password" />
                <label>Password</label>
            </div>
            <div class="email">
                <input required type="password" placeholder="Confirm your password"  id="confirm_password" />
                <label>Confirm </label>
            </div>

            <div class="check">
                <input type="checkbox" required>
                <h4>Terms and conditions</h4>
            </div>

            <a href="log.html"> <h2>Already have a account</h2></a>
            <button>Submit</button>
        </form>



        </div>

    </div>

    <script>

    

let form=document.querySelector("form");
form.addEventListener("submit",e=>{
    e.preventDefault();
    submit();
})
        function submit() {

            const number = document.getElementById("number").value;
            const name = document.getElementById("name").value;
            const emailid = document.getElementById("emailid").value;
            const password = document.getElementById("password").value;
            const confirm_password = document.getElementById("confirm_password").value;


            let res;

            if (password != confirm_password) {
                alert("password did not match");
            } 
            
            else {
                res=1;

                let user_data = {
                "email": emailid,
                "password": password,
                "name":name,
                "number":number
            }

            let users =JSON.parse( localStorage.getItem("users"))// ARR = FALSE

                ? JSON.parse(localStorage.getItem("users")) //IF CRT            // true
                :  [];//IF WRONG   // ARR= []                                 //false

            users.push(user_data) //arr =[{}]// arr =[{},{}]

            localStorage.setItem("users", JSON.stringify(users))  // arr= key...."[{}]"


            if (res==1){
                window.location.href = "log.html"

            }
                // alert("password is correct")
            }
        }

    </script>

</body>

</html>